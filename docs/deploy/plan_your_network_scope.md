# Plan your networking IP range
Az-hop needs several subnets to work, while some of these are optional like `Bastion` and the `Gateway` others are mandatory. When peering the az-hop vnet to others vnet or to your enterprise thru a VPN you have to plan accordingly your address range to avoid conflicts. Below are examples to help you defined these ranges based on how large you want to size your compute infrastructure.

## 28 nodes system => 10.0.0.0/25

| Subnet | CIDR |    IP Range       | Nb IPs | First IP | Usable IPs |
|--------|-----:|:-----------------:|-------:|---------:|-----------:|
| frontend | 10.0.0.0/**29** | 10.0.0.0 - 10.0.0.7 | 8 | 10.0.0.4 | 4 |
| ad | 10.0.0.8/**29** | 10.0.0.8 - 10.0.0.15 | 8 | 10.0.0.12 | 4 |
| admin | 10.0.0.16/**28** | 10.0.0.16 - 10.0.0.31 | 16 | 10.0.0.20 | 12 |
| netapp | 10.0.0.32/**29** | 10.0.0.32 - 10.0.0.39 | 8 | 10.0.0.36 | 4 |
| empty | | | | | |
| gateway | 10.0.0.48/**28** | 10.0.0.48 - 10.0.0.63 | 16 | 10.0.0.48 | 12 |
| bastion | 10.0.0.64/**27** | 10.0.0.64 - 10.0.0.95 | 32 | 10.0.0.64 | 28 |
| compute | 10.0.0.96/**27** | 10.0.0.96 - 10.0.0.127 | 32 | 10.0.0.96 | 28 |

## 124 nodes system => 10.0.0.0/24

| Subnet | CIDR |    IP Range       | Nb IPs | First IP | Usable IPs |
|--------|-----:|:-----------------:|-------:|---------:|-----------:|
| frontend | 10.0.0.0/**29** | 10.0.0.0 - 10.0.0.7 | 8 | 10.0.0.4 | 4 |
| ad | 10.0.0.8/**29** | 10.0.0.8 - 10.0.0.15 | 8 | 10.0.0.12 | 4 |
| admin | 10.0.0.16/**28** | 10.0.0.16 - 10.0.0.31 | 16 | 10.0.0.20 | 12 |
| netapp | 10.0.0.32/**29** | 10.0.0.32 - 10.0.0.39 | 8 | 10.0.0.36 | 4 |
| empty | | | | | |
| gateway | 10.0.0.48/**28** | 10.0.0.48 - 10.0.0.63 | 16 | 10.0.0.48 | 12 |
| bastion | 10.0.0.64/**27** | 10.0.0.64 - 10.0.0.95 | 32 | 10.0.0.64 | 28 |
| empty | | | | | |
| compute | 10.0.0.128/**25** | 10.0.0.128 - 10.0.0.255 | 128 | 10.0.0.132 | 124 |

## 252 nodes system => 10.0.0.0/23

| Subnet | CIDR |    IP Range       | Nb IPs | First IP | Usable IPs |
|--------|-----:|:-----------------:|-------:|---------:|-----------:|
| frontend | 10.0.0.0/**29** | 10.0.0.0 - 10.0.0.7 | 8 | 10.0.0.4 | 4 |
| ad | 10.0.0.8/**29** | 10.0.0.8 - 10.0.0.15 | 8 | 10.0.0.12 | 4 |
| admin | 10.0.0.16/**28** | 10.0.0.16 - 10.0.0.31 | 16 | 10.0.0.20 | 12 |
| netapp | 10.0.0.32/**29** | 10.0.0.32 - 10.0.0.39 | 8 | 10.0.0.36 | 4 |
| empty | | | | | |
| gateway | 10.0.0.48/**28** | 10.0.0.48 - 10.0.0.63 | 16 | 10.0.0.48 | 12 |
| bastion | 10.0.0.64/**27** | 10.0.0.64 - 10.0.0.95 | 32 | 10.0.0.64 | 28 |
| empty | | | | | |
| compute | 10.0.1.0/**24** | 10.0.1.0 - 10.0.1.255 | 256 | 10.0.1.0 | 252 |

## 508 nodes system => 10.0.0.0/22

| Subnet | CIDR |    IP Range       | Nb IPs | First IP | Usable IPs |
|--------|-----:|:-----------------:|-------:|---------:|-----------:|
| frontend | 10.0.0.0/**29** | 10.0.0.0 - 10.0.0.7 | 8 | 10.0.0.4 | 4 |
| ad | 10.0.0.8/**29** | 10.0.0.8 - 10.0.0.15 | 8 | 10.0.0.12 | 4 |
| admin | 10.0.0.16/**28** | 10.0.0.16 - 10.0.0.31 | 16 | 10.0.0.20 | 12 |
| netapp | 10.0.0.32/**29** | 10.0.0.32 - 10.0.0.39 | 8 | 10.0.0.36 | 4 |
| empty | | | | | |
| gateway | 10.0.0.48/**28** | 10.0.0.48 - 10.0.0.63 | 16 | 10.0.0.48 | 12 |
| bastion | 10.0.0.64/**27** | 10.0.0.64 - 10.0.0.95 | 32 | 10.0.0.64 | 28 |
| empty | | | | | |
| compute | 10.0.2.0/**23** | 10.0.2.0 - 10.0.3.255 | 512 | 10.0.2.0 | 508 |

## 1020 nodes system => 10.0.0.0/21

| Subnet | CIDR |    IP Range       | Nb IPs | First IP | Usable IPs |
|--------|-----:|:-----------------:|-------:|---------:|-----------:|
| frontend | 10.0.0.0/**29** | 10.0.0.0 - 10.0.0.7 | 8 | 10.0.0.4 | 4 |
| ad | 10.0.0.8/**29** | 10.0.0.8 - 10.0.0.15 | 8 | 10.0.0.12 | 4 |
| admin | 10.0.0.16/**28** | 10.0.0.16 - 10.0.0.31 | 16 | 10.0.0.20 | 12 |
| netapp | 10.0.0.32/**29** | 10.0.0.32 - 10.0.0.39 | 8 | 10.0.0.36 | 4 |
| empty | | | | | |
| gateway | 10.0.0.48/**28** | 10.0.0.48 - 10.0.0.63 | 16 | 10.0.0.48 | 12 |
| bastion | 10.0.0.64/**27** | 10.0.0.64 - 10.0.0.95 | 32 | 10.0.0.64 | 28 |
| empty | | | | | |
| compute | 10.0.4.0/**22** | 10.0.4.0 - 10.0.7.255 | 1024 | 10.0.4.0 | 1020 |

## 2044 nodes system => 10.0.0.0/20

| Subnet | CIDR |    IP Range       | Nb IPs | First IP | Usable IPs |
|--------|-----:|:-----------------:|-------:|---------:|-----------:|
| frontend | 10.0.0.0/**29** | 10.0.0.0 - 10.0.0.7 | 8 | 10.0.0.4 | 4 |
| ad | 10.0.0.8/**29** | 10.0.0.8 - 10.0.0.15 | 8 | 10.0.0.12 | 4 |
| admin | 10.0.0.16/**28** | 10.0.0.16 - 10.0.0.31 | 16 | 10.0.0.20 | 12 |
| netapp | 10.0.0.32/**29** | 10.0.0.32 - 10.0.0.39 | 8 | 10.0.0.36 | 4 |
| empty | | | | | |
| gateway | 10.0.0.48/**28** | 10.0.0.48 - 10.0.0.63 | 16 | 10.0.0.48 | 12 |
| bastion | 10.0.0.64/**27** | 10.0.0.64 - 10.0.0.95 | 32 | 10.0.0.64 | 28 |
| empty | | | | | |
| compute | 10.0.8.0/**21** | 10.0.8.0 - 10.0.15.255 | 2048 | 10.0.8.0 | 2044 |

## 4092 nodes system => 10.0.0.0/19

| Subnet | CIDR |    IP Range       | Nb IPs | First IP | Usable IPs |
|--------|-----:|:-----------------:|-------:|---------:|-----------:|
| frontend | 10.0.0.0/**29** | 10.0.0.0 - 10.0.0.7 | 8 | 10.0.0.4 | 4 |
| ad | 10.0.0.8/**29** | 10.0.0.8 - 10.0.0.15 | 8 | 10.0.0.12 | 4 |
| admin | 10.0.0.16/**28** | 10.0.0.16 - 10.0.0.31 | 16 | 10.0.0.20 | 12 |
| netapp | 10.0.0.32/**29** | 10.0.0.32 - 10.0.0.39 | 8 | 10.0.0.36 | 4 |
| empty | | | | | |
| gateway | 10.0.0.48/**28** | 10.0.0.48 - 10.0.0.63 | 16 | 10.0.0.48 | 12 |
| bastion | 10.0.0.64/**27** | 10.0.0.64 - 10.0.0.95 | 32 | 10.0.0.64 | 28 |
| empty | | | | | |
| compute | 10.0.16.0/**20** | 10.0.16.0 - 10.0.31.255 | 4096 | 10.0.16.0 | 4096 |

## 8188 nodes system => 10.0.0.0/19

| Subnet | CIDR |    IP Range       | Nb IPs | First IP | Usable IPs |
|--------|-----:|:-----------------:|-------:|---------:|-----------:|
| frontend | 10.0.0.0/**29** | 10.0.0.0 - 10.0.0.7 | 8 | 10.0.0.4 | 4 |
| ad | 10.0.0.8/**29** | 10.0.0.8 - 10.0.0.15 | 8 | 10.0.0.12 | 4 |
| admin | 10.0.0.16/**28** | 10.0.0.16 - 10.0.0.31 | 16 | 10.0.0.20 | 12 |
| netapp | 10.0.0.32/**29** | 10.0.0.32 - 10.0.0.39 | 8 | 10.0.0.36 | 4 |
| empty | | | | | |
| gateway | 10.0.0.48/**28** | 10.0.0.48 - 10.0.0.63 | 16 | 10.0.0.48 | 12 |
| bastion | 10.0.0.64/**27** | 10.0.0.64 - 10.0.0.95 | 32 | 10.0.0.64 | 28 |
| empty | | | | | |
| compute | 10.0.32.0/**19** | 10.0.32.0 - 10.0.63.255 | 8192 | 10.0.32.0 | 8188 |
